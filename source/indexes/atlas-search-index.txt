.. _ruby-atlas-search-index:

====================
Atlas Search Indexes
====================

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. facet::
   :name: genre
   :values: reference

.. meta::
   :keywords: index, query, optimization, efficiency

Overview
--------

:atlas:`Atlas Search </atlas-search>` enables you to perform full-text searches on
collections hosted on MongoDB Atlas. With Atlas Search indexes, you can specify the 
behavior of the search and which fields to index.

You can call the following database commands to manage you Atlas Search indexes:

- ``createSearchIndexes``
- ``dropSearchIndex``
- ``updateSearchIndex``

The following sections provide code examples that demonstrate how to use
each of the preceding commands.

.. _ruby-atlas-search-index-create:

Create a Search Index
---------------------

You can use the ``createSearchIndexes`` database command to create one or 
more Atlas Search indexes.

The following code example shows how to create multiple Atlas Search indexes:

.. literalinclude:: /includes/indexes/atlas-search-index.rb
   :language: ruby
   :start-after: start-create-search-index
   :end-before: end-create-search-index

To learn more about the syntax for the ``createSearchIndexes`` database command,
see the :manual:`createSearchIndexes </reference/command/createSearchIndexes/>`
reference in the {+mdb-server+} manual.

To learn more about the syntax for the index ``definition``, see the 
:atlas:`Review Atlas Search Index Syntax </atlas-search/index-definitions>` 
guide in the Atlas manual.

.. note:: Atlas Vector Search Indexes

    You can also use the ``createSearchIndexes`` database command to create 
    Atlas Vector Search Indexes. Atlas Vector Search enables you to perform 
    semantic searches on vector embeddings stored in MongoDB Atlas. To learn 
    more about this feature, see the :atlas:`Atlas Vector Search Overview
    </atlas-vector-search/vector-search-overview/>`.

Update a Search Index
---------------------

You can use the ``updateSearchIndex`` database command to update an Atlas Search index.

To update an index, you must provide a new index ``definition``. The 
following code shows how to update a search index:

.. literalinclude:: /includes/indexes/atlas-search-index.rb
   :language: ruby
   :start-after: start-update-search-indexes
   :end-before: end-update-search-indexes

To learn more about the syntax for the ``updateSearchIndex`` database command,
see the :manual:`updateSearchIndex </reference/command/updateSearchIndex/>`
reference in the {+mdb-server+} manual.

Delete a Search Index
---------------------

You can use the ``dropSearchIndex`` database command to delete an Atlas Search index.

To delete an index, you must provide the ``name`` of the index. The following 
code shows how to delete a search index from a collection:

.. literalinclude:: /includes/indexes/atlas-search-index.rb
   :language: ruby
   :start-after: start-drop-search-index
   :end-before: end-drop-search-index

To learn more about the syntax for the ``dropSearchIndex`` database command,
see the :manual:`dropSearchIndex </reference/command/dropSearchIndex/>`
reference in the {+mdb-server+} manual.

Additional Information
----------------------

To learn more about MongoDB Atlas Search, see the 
:atlas:`Atlas Search </atlas-search/atlas-search-overview/>` documentation.

API Documentation
~~~~~~~~~~~~~~~~~

To learn more about the {+driver-short+} methods used in this guide, see the following API documentation:

- `database <{+api-root+}/Mongo/Collection.html#database-instance_method>`__
- `command <{+api-root+}/Mongo/Database.html#command-instance_method>`__
